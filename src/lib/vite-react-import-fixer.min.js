export default function reactImportFixer(){return{name:"vite-plugin-react-import-fixer",enforce:"pre",resolveId(id){if("virtual:react-compat"===id)return"\0virtual:react-compat"},load(id){if("\0virtual:react-compat"===id)return"\n          import React from 'react';\n          export const {\n            Children,\n            Component,\n            Fragment,\n            Profiler,\n            PureComponent,\n            StrictMode,\n            Suspense,\n            cloneElement,\n            createContext,\n            createElement,\n            createFactory,\n            createRef,\n            forwardRef,\n            isValidElement,\n            lazy,\n            memo,\n            startTransition,\n            useCallback,\n            useContext,\n            useDebugValue,\n            useDeferredValue,\n            useEffect,\n            useId,\n            useImperativeHandle,\n            useInsertionEffect,\n            useLayoutEffect,\n            useMemo,\n            useReducer,\n            useRef,\n            useState,\n            useSyncExternalStore,\n            useTransition,\n            version,\n          } = React;\n          export default React;\n        "},transform(code,id){if(id.includes("node_modules")&&(id.includes("@radix-ui")||id.includes("react-router")||id.includes("react-router-dom"))&&(code.includes("from 'react'")||code.includes('from "react"')))return console.log("Fixing React imports in:",id),code.replace(/import\s+\{\s*([^}]+)\s*\}\s+from\s+['"]react['"]/g,"import { $1 } from 'virtual:react-compat'").replace(/import\s+React\s+from\s+['"]react['"]/g,"import React from 'virtual:react-compat'")}}}